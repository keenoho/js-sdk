{"version":3,"file":"keenoho.umd.external.js","sources":["../../src/constant/index.js","../../src/util/index.js","../../src/config/index.js","../../src/util/request.js","../../src/signature/index.js","../../src/util/eventEmitter.js","../../src/sdk.js","../../index.js"],"sourcesContent":["export const PLATFORM_NODE = 'node'\nexport const PLATFORM_BROWSER = 'browser'\n","import { PLATFORM_NODE, PLATFORM_BROWSER } from '../constant';\n\nexport function judgePlatform() {\n  return typeof document === 'undefined' ? PLATFORM_NODE : PLATFORM_BROWSER;\n}\n","import { judgePlatform } from '../util';\nimport { PLATFORM_BROWSER } from '../constant';\n\nconst storeConfig = {\n  platform: judgePlatform(),\n  app: undefined,\n  signature: undefined,\n  publicKey: undefined,\n  env: 'production',\n  mode: 'production',\n  apiHost: undefined,\n  ttl: 3200,\n};\n\nexport function loadBrowserConfig() {\n  const app = window.APP || undefined;\n  const env = window.ENV || undefined;\n  const mode = window.MODE || undefined;\n  const publicKey = window.APP_PUBLIC_KEY || undefined;\n  const ttl = window.SIGNATURE_TTL || 3200;\n  const apiHost =\n    window.SYSTEMCE_HOST ||\n    (location.protocol.indexOf('https') > -1 ? 'http://api.keenoho.space' : 'https://api.keenoho.space');\n  setConfig({\n    app,\n    env,\n    mode,\n    publicKey,\n    ttl,\n    apiHost,\n  });\n}\n\nexport function loadNodeConfig() {}\n\nexport function loadConfig() {\n  if (judgePlatform() === PLATFORM_BROWSER) {\n    loadBrowserConfig();\n  } else {\n    loadNodeConfig();\n  }\n}\n\nexport function getConfig(key) {\n  if (key in storeConfig) {\n    return storeConfig[key];\n  }\n  return storeConfig;\n}\n\nexport function setConfig(key, value) {\n  if (arguments.length == 1 && typeof arguments[0] === 'object') {\n    for (let k in arguments[0]) {\n      storeConfig[k] = arguments[0][k];\n    }\n  } else if (arguments.length == 2) {\n    storeConfig[key] = value;\n  }\n}\n\nexport function checkConfig(checkSignature = false) {\n  if (!storeConfig.app || !storeConfig.publicKey) {\n    throw new Error('the app or publicKey is not set in config, please use setConfig to set the values');\n  }\n  if (checkSignature && !storeConfig.signature) {\n    throw new Error('the signature has not sign, please use signature.sign to sign');\n  }\n}\n","import axios from 'axios';\nimport { getConfig } from '../config';\nimport { computeSession } from '../signature';\n\nconst defaultAxiosOptions = {\n  url: '',\n  baseURL: '',\n  params: undefined,\n  data: undefined,\n  header: undefined,\n  method: 'GET',\n  cancelToken: undefined,\n};\nconst defaultRequestOption = {\n  needApp: true,\n  needSignature: true,\n  needSessionId: true,\n  targetCode: 0,\n  takeInnerData: false,\n};\n\nconst Request = axios.create();\nRequest.interceptors.request.use(\n  function (config) {\n    const { requestOptions = defaultRequestOption } = config;\n    const { app, signature, apiHost } = getConfig();\n    if (!config.baseURL && apiHost) {\n      config.baseURL = apiHost;\n    }\n    if (!config.headers) {\n      config.headers = {};\n    }\n    if (requestOptions.needApp) {\n      config.headers['x-app'] = app;\n    }\n    if (requestOptions.needSignature) {\n      config.headers['x-signature'] = signature;\n    }\n    if (requestOptions.needSessionId) {\n      const u = new URL(config.url.indexOf('http') > -1 ? config.url : config.baseURL + config.url);\n      const pathname = u.pathname;\n      config.headers['x-session-id'] = computeSession(app, pathname, signature);\n    }\n\n    return config;\n  },\n  function (error) {\n    return Promise.reject(error);\n  }\n);\nRequest.interceptors.response.use(\n  function (response) {\n    const { requestOptions = defaultRequestOption } = response.config;\n    const data = response.data;\n    if (typeof data === 'object' && 'code' in data && 'msg' in data) {\n      const code = data.code;\n      if (code !== requestOptions.targetCode) {\n        throw data;\n      }\n    }\n\n    let finalData = data;\n    if (requestOptions.takeInnerData && typeof data === 'object' && 'data' in data) {\n      finalData = data.data;\n    }\n    return finalData;\n  },\n  function (error) {\n    if (error instanceof axios.AxiosError) {\n      const { response } = error;\n      if (!response) {\n        return Promise.reject(error);\n      }\n\n      const { requestOptions = defaultRequestOption } = response.config;\n      const data = response.data;\n      if (typeof data === 'object' && 'code' in data && 'msg' in data) {\n        const code = data.code;\n        if (code !== requestOptions.targetCode) {\n          return Promise.reject(data);\n        }\n      }\n\n      let finalData = data;\n      if (requestOptions.takeInnerData && typeof data === 'object' && 'data' in data) {\n        finalData = data.data;\n      }\n      return Promise.reject(finalData);\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport function request(axiosOptions = defaultAxiosOptions, requestOptions = defaultRequestOption) {\n  axiosOptions = Object.assign({}, defaultAxiosOptions, axiosOptions);\n  requestOptions = Object.assign({}, defaultRequestOption, requestOptions);\n  return Request({\n    ...axiosOptions,\n    requestOptions,\n  });\n}\n\nexport function get(axiosOptions = defaultAxiosOptions, requestOptions = defaultRequestOption) {\n  axiosOptions.method = 'GET';\n  return request(axiosOptions, requestOptions);\n}\n\nexport function post(axiosOptions = defaultAxiosOptions, requestOptions = defaultRequestOption) {\n  axiosOptions.method = 'POST';\n  return request(axiosOptions, requestOptions);\n}\n","import CryptoJS from 'crypto-js';\nimport { v4 as uuid } from 'uuid';\nimport { getConfig, checkConfig, setConfig } from '../config';\nimport { get } from '../util/request';\n\nconst apiMap = {\n  v1: {\n    SignatureSign: '/v1/signature/sign',\n    SignatureCheck: '/v1/signature/check',\n    SignatureRefresh: '/v1/signature/refresh',\n    SignatureData: '/v1/signature/data',\n  },\n};\n\nexport function computeSign(app, ts, ttl, uid, publicKey) {\n  const str = `${app}${ts}${ttl}${uid}`.split('').sort().join('');\n  return CryptoJS.HmacSHA1(str, publicKey);\n}\n\nexport function computeSession(app, path, sign) {\n  const str = `${app}:${path}`.split('').sort().join('');\n  return CryptoJS.HmacSHA1(str, sign);\n}\n\nexport async function sign() {\n  checkConfig();\n  const { app, publicKey, ttl } = getConfig();\n  const ts = Date.now();\n  const uid = uuid();\n  const sig = computeSign(app, ts, ttl, uid, publicKey);\n  const res = await get(\n    {\n      url: apiMap.v1.SignatureSign,\n      params: {\n        app,\n        ts,\n        ttl,\n        sig,\n        randomId: uid,\n      },\n    },\n    {\n      needApp: false,\n      needSignature: false,\n      needSessionId: false,\n    }\n  );\n  if (res && res.code === 0) {\n    setConfig('signature', res.data);\n  }\n  return res;\n}\n\nexport async function check() {\n  checkConfig();\n  return await get({\n    url: apiMap.v1.SignatureCheck,\n    params: {},\n  });\n}\n\nexport async function refresh() {\n  checkConfig();\n  return await get({\n    url: apiMap.v1.SignatureRefresh,\n    params: {},\n  });\n}\n\nexport async function data() {\n  checkConfig();\n  return await get({\n    url: apiMap.v1.SignatureData,\n    params: {},\n  });\n}\n","export default class EventEmitter {\n  callbacks = {};\n  addEventListener(type, callback) {\n    this.callbacks[type] = callback;\n  }\n  removeEventListener(type) {\n    delete this.callbacks[type];\n  }\n  emit(type, ...args) {\n    if (typeof this.callbacks[type] === 'function') {\n      this.callbacks[type](...args);\n    }\n  }\n}\n","import { getConfig, loadConfig, setConfig } from './config';\nimport Logger from './util/logger';\nimport EventEmitter from './util/eventEmitter';\nimport { sign, check, refresh } from './signature';\nimport { request } from './util/request';\n\nconst storeKeyMap = {\n  signature: 'keenoho_signature',\n  app: 'keenoho_app',\n  publicKey: 'keenoho_publicKey',\n};\n\nexport default class SDK extends (Logger, EventEmitter) {\n  config = {};\n  constructor() {\n    super();\n    this.initConfig();\n    this.initSignature();\n  }\n\n  config(valueMap) {\n    setConfig(valueMap);\n    this.config = Object.assign(this.config, getConfig());\n  }\n\n  ready(callback) {\n    this.addEventListener('ready', callback);\n  }\n\n  error(callback) {\n    this.addEventListener('error', callback);\n  }\n\n  initConfig() {\n    loadConfig();\n    const storeApp = localStorage.getItem(storeKeyMap.app);\n    const storePublicKey = localStorage.getItem(storeKeyMap.publicKey);\n    this.config = Object.assign({}, getConfig());\n    if (storeApp) {\n      setConfig('app', +storeApp || undefined);\n      this.config.app = +storeApp || undefined;\n    }\n    if (storePublicKey) {\n      setConfig('publicKey', storePublicKey);\n      this.config.publicKey = storePublicKey;\n    }\n  }\n\n  async initSignature() {\n    const storeSignature = localStorage.getItem(storeKeyMap.signature);\n    if (storeSignature) {\n      setConfig('signature', storeSignature);\n      const checkRes = await check()\n        .then(() => {\n          return true;\n        })\n        .catch(() => {\n          setConfig('signature', undefined);\n          return false;\n        });\n\n      if (checkRes) {\n        const refreshRes = await refresh()\n          .then(() => {\n            return true;\n          })\n          .catch(() => {\n            setConfig('signature', undefined);\n            return false;\n          });\n        if (refreshRes) {\n          return;\n        }\n      }\n    }\n    await sign()\n      .then((res) => {\n        if (res && res.code == 0 && res.data) {\n          return res.data;\n        }\n        throw res;\n      })\n      .then((res) => {\n        localStorage.setItem(storeKeyMap.signature, res);\n      })\n      .catch((err) => {\n        setConfig('signature', undefined);\n        return err;\n      });\n  }\n\n  addPlugin(pluginFunc) {\n    pluginFunc.call(this);\n  }\n\n  sendRequest(axiosOptions, requestOptions) {\n    return request(axiosOptions, requestOptions);\n  }\n}\n","import * as config from './src/config';\nimport * as signature from './src/signature';\nimport * as request from './src/util/request';\nimport SDK from './src/sdk';\n\nexport default {\n  config,\n  signature,\n  request,\n  SDK,\n};\n"],"names":["PLATFORM_NODE","PLATFORM_BROWSER","judgePlatform","document","storeConfig","platform","app","undefined","signature","publicKey","env","mode","apiHost","ttl","loadBrowserConfig","window","APP","ENV","MODE","APP_PUBLIC_KEY","SIGNATURE_TTL","SYSTEMCE_HOST","location","protocol","indexOf","setConfig","loadNodeConfig","loadConfig","getConfig","key","value","arguments","length","_typeof","k","checkConfig","checkSignature","Error","defaultAxiosOptions","url","baseURL","params","data","header","method","cancelToken","defaultRequestOption","needApp","needSignature","needSessionId","targetCode","takeInnerData","Request","axios","create","interceptors","request","use","config","_config$requestOption","requestOptions","_getConfig","headers","u","URL","pathname","computeSession","error","Promise","reject","response","_response$config$requ","code","finalData","AxiosError","_response$config$requ2","axiosOptions","Object","assign","_objectSpread","get","post","apiMap","v1","SignatureSign","SignatureCheck","SignatureRefresh","SignatureData","computeSign","ts","uid","str","concat","split","sort","join","CryptoJS","HmacSHA1","path","sign","_sign","apply","_asyncToGenerator","_regeneratorRuntime","mark","_callee","sig","res","wrap","_callee$","_context","prev","next","Date","now","uuid","randomId","sent","abrupt","stop","check","_check","_callee2","_callee2$","_context2","refresh","_refresh","_callee3","_callee3$","_context3","_data","_callee4","_callee4$","_context4","EventEmitter","_classCallCheck","_defineProperty","_createClass","addEventListener","type","callback","callbacks","removeEventListener","emit","_this$callbacks","_len","args","Array","_key","storeKeyMap","SDK","_ref","_inherits","_super","_createSuper","_this","call","_assertThisInitialized","initConfig","initSignature","valueMap","ready","storeApp","localStorage","getItem","storePublicKey","_initSignature","storeSignature","checkRes","refreshRes","then","setItem","err","addPlugin","pluginFunc","sendRequest","Logger"],"mappings":"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"}