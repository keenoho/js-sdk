{"version":3,"file":"keenoho.umd.external.js","sources":["../../src/constant/index.js","../../src/util/index.js","../../src/config/index.js","../../src/util/request.js","../../src/signature/index.js","../../src/user/index.js","../../src/util/eventEmitter.js","../../src/sdk.js","../../index.js"],"sourcesContent":["export const PLATFORM_NODE = 'node';\nexport const PLATFORM_BROWSER = 'browser';\nexport const apiMap = {\n  v1: {\n    SignatureSign: '/v1/signature/sign',\n    SignatureCheck: '/v1/signature/check',\n    SignatureRefresh: '/v1/signature/refresh',\n    SignatureData: '/v1/signature/data',\n    UserLogin: '/v1/user/login',\n    UserInfo: '/v1/user/info',\n  },\n};\n","import { PLATFORM_NODE, PLATFORM_BROWSER } from '../constant';\n\nexport function judgePlatform() {\n  return typeof document === 'undefined' ? PLATFORM_NODE : PLATFORM_BROWSER;\n}\n","import { judgePlatform } from '../util';\nimport { PLATFORM_BROWSER } from '../constant';\n\nconst storeConfig = {\n  platform: judgePlatform(),\n  app: undefined,\n  signature: undefined,\n  publicKey: undefined,\n  env: 'production',\n  mode: 'production',\n  apiHost: undefined,\n  ttl: 3200,\n};\n\nexport function loadBrowserConfig() {\n  const app = storeConfig.app || window.APP || undefined;\n  const env = storeConfig.env || window.ENV || undefined;\n  const mode = storeConfig.mode || window.MODE || undefined;\n  const publicKey = storeConfig.publicKey || window.APP_PUBLIC_KEY || undefined;\n  const ttl = storeConfig.ttl || window.SIGNATURE_TTL || 3200;\n  const apiHost =\n    storeConfig.apiHost ||\n    window.SYSTEMCE_HOST ||\n    (location.protocol.indexOf('https') > -1 ? 'http://api.keenoho.space' : 'https://api.keenoho.space');\n  setConfig({\n    app,\n    env,\n    mode,\n    publicKey,\n    ttl,\n    apiHost,\n  });\n}\n\nexport function loadNodeConfig() {}\n\nexport function loadConfig() {\n  if (judgePlatform() === PLATFORM_BROWSER) {\n    loadBrowserConfig();\n  } else {\n    loadNodeConfig();\n  }\n}\n\nexport function getConfig(key) {\n  if (key in storeConfig) {\n    return storeConfig[key];\n  }\n  return storeConfig;\n}\n\nexport function setConfig(key, value) {\n  if (arguments.length == 1 && typeof arguments[0] === 'object') {\n    for (let k in arguments[0]) {\n      storeConfig[k] = arguments[0][k] || storeConfig[k];\n    }\n  } else if (arguments.length == 2) {\n    storeConfig[key] = value || storeConfig[key];\n  }\n}\n\nexport function checkConfig(checkSignature = false) {\n  if (!storeConfig.app || !storeConfig.publicKey) {\n    throw new Error('the app or publicKey is not set in config, please use setConfig to set the values');\n  }\n  if (checkSignature && !storeConfig.signature) {\n    throw new Error('the signature has not sign, please use signature.sign to sign');\n  }\n}\n","import axios from 'axios';\nimport { getConfig } from '../config';\nimport { computeSession } from '../signature';\n\nconst defaultAxiosOptions = {\n  url: '',\n  baseURL: '',\n  params: undefined,\n  data: undefined,\n  header: undefined,\n  method: 'GET',\n  cancelToken: undefined,\n};\nconst defaultRequestOption = {\n  needApp: true,\n  needSignature: true,\n  needSessionId: true,\n  targetCode: 0,\n  takeInnerData: false,\n};\n\nconst Request = axios.create();\nRequest.interceptors.request.use(\n  function (config) {\n    const { requestOptions = defaultRequestOption } = config;\n    const { app, signature, apiHost } = getConfig();\n    if (!config.baseURL && apiHost) {\n      config.baseURL = apiHost;\n    }\n    if (!config.headers) {\n      config.headers = {};\n    }\n    if (requestOptions.needApp) {\n      config.headers['x-app'] = app;\n    }\n    if (requestOptions.needSignature) {\n      config.headers['x-signature'] = signature;\n    }\n    if (requestOptions.needSessionId) {\n      const u = new URL(config.url.indexOf('http') > -1 ? config.url : config.baseURL + config.url);\n      const pathname = u.pathname;\n      config.headers['x-session-id'] = computeSession(app, pathname, signature);\n    }\n\n    return config;\n  },\n  function (error) {\n    return Promise.reject(error);\n  }\n);\nRequest.interceptors.response.use(\n  function (response) {\n    const { requestOptions = defaultRequestOption } = response.config;\n    const data = response.data;\n    if (typeof data === 'object' && 'code' in data && 'msg' in data) {\n      const code = data.code;\n      if (code !== requestOptions.targetCode) {\n        throw data;\n      }\n    }\n\n    let finalData = data;\n    if (requestOptions.takeInnerData && typeof data === 'object' && 'data' in data) {\n      finalData = data.data;\n    }\n    return finalData;\n  },\n  function (error) {\n    if (error instanceof axios.AxiosError) {\n      const { response } = error;\n      if (!response) {\n        return Promise.reject(error);\n      }\n\n      const { requestOptions = defaultRequestOption } = response.config;\n      const data = response.data;\n      if (typeof data === 'object' && 'code' in data && 'msg' in data) {\n        const code = data.code;\n        if (code !== requestOptions.targetCode) {\n          return Promise.reject(data);\n        }\n      }\n\n      let finalData = data;\n      if (requestOptions.takeInnerData && typeof data === 'object' && 'data' in data) {\n        finalData = data.data;\n      }\n      return Promise.reject(finalData);\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport function request(axiosOptions = defaultAxiosOptions, requestOptions = defaultRequestOption) {\n  axiosOptions = Object.assign({}, defaultAxiosOptions, axiosOptions);\n  requestOptions = Object.assign({}, defaultRequestOption, requestOptions);\n  return Request({\n    ...axiosOptions,\n    requestOptions,\n  });\n}\n\nexport function get(axiosOptions = defaultAxiosOptions, requestOptions = defaultRequestOption) {\n  axiosOptions.method = 'GET';\n  return request(axiosOptions, requestOptions);\n}\n\nexport function post(axiosOptions = defaultAxiosOptions, requestOptions = defaultRequestOption) {\n  axiosOptions.method = 'POST';\n  return request(axiosOptions, requestOptions);\n}\n","import CryptoJS from 'crypto-js';\nimport { v4 as uuid } from 'uuid';\nimport { getConfig, checkConfig, setConfig } from '../config';\nimport { get } from '../util/request';\nimport { apiMap } from '../constant';\n\nexport function computeSign(app, ts, ttl, uid, publicKey) {\n  const str = `${app}${ts}${ttl}${uid}`.split('').sort().join('');\n  return CryptoJS.HmacSHA1(str, publicKey);\n}\n\nexport function computeSession(app, path, sign) {\n  const str = `${app}:${path}`.split('').sort().join('');\n  return CryptoJS.HmacSHA1(str, sign);\n}\n\nexport async function sign() {\n  checkConfig();\n  const { app, publicKey, ttl } = getConfig();\n  const ts = Date.now();\n  const uid = uuid();\n  const sig = computeSign(app, ts, ttl, uid, publicKey);\n  const res = await get(\n    {\n      url: apiMap.v1.SignatureSign,\n      params: {\n        app,\n        ts,\n        ttl,\n        sig,\n        randomId: uid,\n      },\n    },\n    {\n      needApp: false,\n      needSignature: false,\n      needSessionId: false,\n    }\n  );\n  if (res && res.code === 0) {\n    setConfig('signature', res.data);\n  }\n  return res;\n}\n\nexport async function check() {\n  checkConfig();\n  return await get({\n    url: apiMap.v1.SignatureCheck,\n    params: {},\n  });\n}\n\nexport async function refresh() {\n  checkConfig();\n  return await get({\n    url: apiMap.v1.SignatureRefresh,\n    params: {},\n  });\n}\n\nexport async function data() {\n  checkConfig();\n  return await get({\n    url: apiMap.v1.SignatureData,\n    params: {},\n  });\n}\n","import { getConfig, checkConfig, setConfig } from '../config';\nimport { get, post } from '../util/request';\nimport { apiMap } from '../constant';\n\nexport function login(options) {\n  checkConfig();\n  const { app } = getConfig();\n  return post({\n    url: apiMap.v1.UserLogin,\n    data: {\n      app,\n      ...options,\n    },\n  });\n}\n\nexport function info(options) {\n  checkConfig();\n  const { app } = getConfig();\n  return get({\n    url: apiMap.v1.UserInfo,\n    params: {\n      app,\n      ...options,\n    },\n  });\n}\n","export default class EventEmitter {\n  callbacks = {};\n  addEventListener(type, callback) {\n    this.callbacks[type] = callback;\n  }\n  removeEventListener(type) {\n    delete this.callbacks[type];\n  }\n  emit(type, ...args) {\n    if (typeof this.callbacks[type] === 'function') {\n      this.callbacks[type](...args);\n    }\n  }\n}\n","import { getConfig, loadConfig, setConfig } from './config';\nimport Logger from './util/logger';\nimport EventEmitter from './util/eventEmitter';\nimport { sign, check, refresh, data } from './signature';\nimport { login, info } from './user';\nimport { request } from './util/request';\n\nconst storeKeyMap = {\n  signature: 'keenoho_signature',\n  app: 'keenoho_app',\n  publicKey: 'keenoho_publicKey',\n};\n\nexport default class SDK extends (Logger, EventEmitter) {\n  config = {};\n  user = {};\n\n  constructor() {\n    super();\n    this.initConfig();\n    this.initSignature();\n  }\n\n  config(valueMap) {\n    setConfig(valueMap);\n    this.config = Object.assign(this.config, getConfig());\n  }\n\n  ready(callback) {\n    this.addEventListener('ready', callback);\n  }\n\n  error(callback) {\n    this.addEventListener('error', callback);\n  }\n\n  initConfig() {\n    loadConfig();\n    const storeApp = localStorage.getItem(storeKeyMap.app);\n    const storePublicKey = localStorage.getItem(storeKeyMap.publicKey);\n    this.config = Object.assign({}, getConfig());\n    if (storeApp) {\n      setConfig('app', +storeApp || undefined);\n      this.config.app = +storeApp || undefined;\n    }\n    if (storePublicKey) {\n      setConfig('publicKey', storePublicKey);\n      this.config.publicKey = storePublicKey;\n    }\n  }\n\n  async initSignature() {\n    const storeSignature = localStorage.getItem(storeKeyMap.signature);\n    if (storeSignature) {\n      setConfig('signature', storeSignature);\n      const checkRes = await check()\n        .then(() => {\n          return true;\n        })\n        .catch((err) => {\n          setConfig('signature', undefined);\n          localStorage.removeItem(storeKeyMap.signature);\n          this.emit('error', err);\n          return false;\n        });\n\n      if (checkRes) {\n        const refreshRes = await refresh()\n          .then(() => {\n            return true;\n          })\n          .catch((err) => {\n            setConfig('signature', undefined);\n            localStorage.removeItem(storeKeyMap.signature);\n            this.emit('error', err);\n            return false;\n          });\n        if (refreshRes) {\n          this.emit('ready');\n          return;\n        }\n      }\n    }\n    await sign()\n      .then((res) => {\n        if (res && res.code == 0 && res.data) {\n          return res.data;\n        }\n        throw res;\n      })\n      .then((res) => {\n        localStorage.setItem(storeKeyMap.signature, res);\n        this.emit('ready');\n      })\n      .catch((err) => {\n        setConfig('signature', undefined);\n        localStorage.removeItem(storeKeyMap.signature);\n        this.emit('error', err);\n      });\n  }\n\n  addPlugin(pluginFunc) {\n    pluginFunc.call(this);\n  }\n\n  sendRequest(axiosOptions, requestOptions) {\n    return request(axiosOptions, requestOptions);\n  }\n\n  login(options) {\n    return login(options).then((res) => {\n      if (res && res.code === 0) {\n        this.user = res.data;\n      }\n      return res;\n    });\n  }\n\n  info(options) {\n    return info(options);\n  }\n\n  data() {\n    return data();\n  }\n}\n","import * as config from './src/config';\nimport * as signature from './src/signature';\nimport * as user from './src/user';\nimport * as request from './src/util/request';\nimport SDK from './src/sdk';\n\nexport default {\n  config,\n  signature,\n  user,\n  request,\n  SDK,\n};\n"],"names":["PLATFORM_NODE","PLATFORM_BROWSER","apiMap","v1","SignatureSign","SignatureCheck","SignatureRefresh","SignatureData","UserLogin","UserInfo","judgePlatform","document","storeConfig","platform","app","undefined","signature","publicKey","env","mode","apiHost","ttl","loadBrowserConfig","window","APP","ENV","MODE","APP_PUBLIC_KEY","SIGNATURE_TTL","SYSTEMCE_HOST","location","protocol","indexOf","setConfig","loadNodeConfig","loadConfig","getConfig","key","value","arguments","length","_typeof","k","checkConfig","checkSignature","Error","defaultAxiosOptions","url","baseURL","params","data","header","method","cancelToken","defaultRequestOption","needApp","needSignature","needSessionId","targetCode","takeInnerData","Request","axios","create","interceptors","request","use","config","_config$requestOption","requestOptions","_getConfig","headers","u","URL","pathname","computeSession","error","Promise","reject","response","_response$config$requ","code","finalData","AxiosError","_response$config$requ2","axiosOptions","Object","assign","_objectSpread","get","post","computeSign","ts","uid","str","concat","split","sort","join","CryptoJS","HmacSHA1","path","sign","_sign","apply","_asyncToGenerator","_regeneratorRuntime","mark","_callee","sig","res","wrap","_callee$","_context","prev","next","Date","now","uuid","randomId","sent","abrupt","stop","check","_check","_callee2","_callee2$","_context2","refresh","_refresh","_callee3","_callee3$","_context3","_data","_callee4","_callee4$","_context4","login","options","info","_getConfig2","EventEmitter","_classCallCheck","_defineProperty","_createClass","addEventListener","type","callback","callbacks","removeEventListener","emit","_this$callbacks","_len","args","Array","_key","storeKeyMap","SDK","_ref","_inherits","_super","_createSuper","_this","call","_assertThisInitialized","initConfig","initSignature","valueMap","ready","storeApp","localStorage","getItem","storePublicKey","_initSignature","_this2","storeSignature","checkRes","refreshRes","then","err","removeItem","setItem","addPlugin","pluginFunc","sendRequest","_this3","user","Logger"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAO,IAAMA,aAAa,GAAG,MAAM,CAAA;EAC5B,IAAMC,gBAAgB,GAAG,SAAS,CAAA;EAClC,IAAMC,MAAM,GAAG;EACpBC,EAAAA,EAAE,EAAE;EACFC,IAAAA,aAAa,EAAE,oBAAoB;EACnCC,IAAAA,cAAc,EAAE,qBAAqB;EACrCC,IAAAA,gBAAgB,EAAE,uBAAuB;EACzCC,IAAAA,aAAa,EAAE,oBAAoB;EACnCC,IAAAA,SAAS,EAAE,gBAAgB;EAC3BC,IAAAA,QAAQ,EAAE,eAAA;EACZ,GAAA;EACF,CAAC;;ECTM,SAASC,aAAaA,GAAG;EAC9B,EAAA,OAAO,OAAOC,QAAQ,KAAK,WAAW,GAAGX,aAAa,GAAGC,gBAAgB,CAAA;EAC3E;;ECDA,IAAMW,WAAW,GAAG;IAClBC,QAAQ,EAAEH,aAAa,EAAE;EACzBI,EAAAA,GAAG,EAAEC,SAAS;EACdC,EAAAA,SAAS,EAAED,SAAS;EACpBE,EAAAA,SAAS,EAAEF,SAAS;EACpBG,EAAAA,GAAG,EAAE,YAAY;EACjBC,EAAAA,IAAI,EAAE,YAAY;EAClBC,EAAAA,OAAO,EAAEL,SAAS;EAClBM,EAAAA,GAAG,EAAE,IAAA;EACP,CAAC,CAAA;EAEM,SAASC,iBAAiBA,GAAG;IAClC,IAAMR,GAAG,GAAGF,WAAW,CAACE,GAAG,IAAIS,MAAM,CAACC,GAAG,IAAIT,SAAS,CAAA;IACtD,IAAMG,GAAG,GAAGN,WAAW,CAACM,GAAG,IAAIK,MAAM,CAACE,GAAG,IAAIV,SAAS,CAAA;IACtD,IAAMI,IAAI,GAAGP,WAAW,CAACO,IAAI,IAAII,MAAM,CAACG,IAAI,IAAIX,SAAS,CAAA;IACzD,IAAME,SAAS,GAAGL,WAAW,CAACK,SAAS,IAAIM,MAAM,CAACI,cAAc,IAAIZ,SAAS,CAAA;IAC7E,IAAMM,GAAG,GAAGT,WAAW,CAACS,GAAG,IAAIE,MAAM,CAACK,aAAa,IAAI,IAAI,CAAA;IAC3D,IAAMR,OAAO,GACXR,WAAW,CAACQ,OAAO,IACnBG,MAAM,CAACM,aAAa,KACnBC,QAAQ,CAACC,QAAQ,CAACC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,0BAA0B,GAAG,2BAA2B,CAAC,CAAA;EACtGC,EAAAA,SAAS,CAAC;EACRnB,IAAAA,GAAG,EAAHA,GAAG;EACHI,IAAAA,GAAG,EAAHA,GAAG;EACHC,IAAAA,IAAI,EAAJA,IAAI;EACJF,IAAAA,SAAS,EAATA,SAAS;EACTI,IAAAA,GAAG,EAAHA,GAAG;EACHD,IAAAA,OAAO,EAAPA,OAAAA;EACF,GAAC,CAAC,CAAA;EACJ,CAAA;EAEO,SAASc,cAAcA,GAAG,EAAC;EAE3B,SAASC,UAAUA,GAAG;EAC3B,EAAA,IAAIzB,aAAa,EAAE,KAAKT,gBAAgB,EAAE;EACxCqB,IAAAA,iBAAiB,EAAE,CAAA;EACrB,GAEA;EACF,CAAA;EAEO,SAASc,SAASA,CAACC,GAAG,EAAE;IAC7B,IAAIA,GAAG,IAAIzB,WAAW,EAAE;MACtB,OAAOA,WAAW,CAACyB,GAAG,CAAC,CAAA;EACzB,GAAA;EACA,EAAA,OAAOzB,WAAW,CAAA;EACpB,CAAA;EAEO,SAASqB,SAASA,CAACI,GAAG,EAAEC,KAAK,EAAE;EACpC,EAAA,IAAIC,SAAS,CAACC,MAAM,IAAI,CAAC,IAAIC,OAAA,CAAOF,SAAS,CAAC,CAAC,CAAC,CAAA,KAAK,QAAQ,EAAE;EAC7D,IAAA,KAAK,IAAIG,CAAC,IAAIH,SAAS,CAAC,CAAC,CAAC,EAAE;EAC1B3B,MAAAA,WAAW,CAAC8B,CAAC,CAAC,GAAGH,SAAS,CAAC,CAAC,CAAC,CAACG,CAAC,CAAC,IAAI9B,WAAW,CAAC8B,CAAC,CAAC,CAAA;EACpD,KAAA;EACF,GAAC,MAAM,IAAIH,SAAS,CAACC,MAAM,IAAI,CAAC,EAAE;MAChC5B,WAAW,CAACyB,GAAG,CAAC,GAAGC,KAAK,IAAI1B,WAAW,CAACyB,GAAG,CAAC,CAAA;EAC9C,GAAA;EACF,CAAA;EAEO,SAASM,WAAWA,GAAyB;EAAA,EAAA,IAAxBC,cAAc,GAAAL,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAxB,SAAA,GAAAwB,SAAA,CAAA,CAAA,CAAA,GAAG,KAAK,CAAA;IAChD,IAAI,CAAC3B,WAAW,CAACE,GAAG,IAAI,CAACF,WAAW,CAACK,SAAS,EAAE;EAC9C,IAAA,MAAM,IAAI4B,KAAK,CAAC,mFAAmF,CAAC,CAAA;EACtG,GAAA;EACA,EAAA,IAAID,cAAc,IAAI,CAAChC,WAAW,CAACI,SAAS,EAAE;EAC5C,IAAA,MAAM,IAAI6B,KAAK,CAAC,+DAA+D,CAAC,CAAA;EAClF,GAAA;EACF;;;;;;;;;;;;EChEA,IAAMC,mBAAmB,GAAG;EAC1BC,EAAAA,GAAG,EAAE,EAAE;EACPC,EAAAA,OAAO,EAAE,EAAE;EACXC,EAAAA,MAAM,EAAElC,SAAS;EACjBmC,EAAAA,IAAI,EAAEnC,SAAS;EACfoC,EAAAA,MAAM,EAAEpC,SAAS;EACjBqC,EAAAA,MAAM,EAAE,KAAK;EACbC,EAAAA,WAAW,EAAEtC,SAAAA;EACf,CAAC,CAAA;EACD,IAAMuC,oBAAoB,GAAG;EAC3BC,EAAAA,OAAO,EAAE,IAAI;EACbC,EAAAA,aAAa,EAAE,IAAI;EACnBC,EAAAA,aAAa,EAAE,IAAI;EACnBC,EAAAA,UAAU,EAAE,CAAC;EACbC,EAAAA,aAAa,EAAE,KAAA;EACjB,CAAC,CAAA;EAED,IAAMC,OAAO,GAAGC,KAAK,CAACC,MAAM,EAAE,CAAA;EAC9BF,OAAO,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAC9B,UAAUC,MAAM,EAAE;EAChB,EAAA,IAAAC,qBAAA,GAAkDD,MAAM,CAAhDE,cAAc;EAAdA,IAAAA,cAAc,GAAAD,qBAAA,KAAGb,KAAAA,CAAAA,GAAAA,oBAAoB,GAAAa,qBAAA,CAAA;IAC7C,IAAAE,UAAA,GAAoCjC,SAAS,EAAE;MAAvCtB,GAAG,GAAAuD,UAAA,CAAHvD,GAAG;MAAEE,SAAS,GAAAqD,UAAA,CAATrD,SAAS;MAAEI,OAAO,GAAAiD,UAAA,CAAPjD,OAAO,CAAA;EAC/B,EAAA,IAAI,CAAC8C,MAAM,CAAClB,OAAO,IAAI5B,OAAO,EAAE;MAC9B8C,MAAM,CAAClB,OAAO,GAAG5B,OAAO,CAAA;EAC1B,GAAA;EACA,EAAA,IAAI,CAAC8C,MAAM,CAACI,OAAO,EAAE;EACnBJ,IAAAA,MAAM,CAACI,OAAO,GAAG,EAAE,CAAA;EACrB,GAAA;IACA,IAAIF,cAAc,CAACb,OAAO,EAAE;EAC1BW,IAAAA,MAAM,CAACI,OAAO,CAAC,OAAO,CAAC,GAAGxD,GAAG,CAAA;EAC/B,GAAA;IACA,IAAIsD,cAAc,CAACZ,aAAa,EAAE;EAChCU,IAAAA,MAAM,CAACI,OAAO,CAAC,aAAa,CAAC,GAAGtD,SAAS,CAAA;EAC3C,GAAA;IACA,IAAIoD,cAAc,CAACX,aAAa,EAAE;EAChC,IAAA,IAAMc,CAAC,GAAG,IAAIC,GAAG,CAACN,MAAM,CAACnB,GAAG,CAACf,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAGkC,MAAM,CAACnB,GAAG,GAAGmB,MAAM,CAAClB,OAAO,GAAGkB,MAAM,CAACnB,GAAG,CAAC,CAAA;EAC7F,IAAA,IAAM0B,QAAQ,GAAGF,CAAC,CAACE,QAAQ,CAAA;EAC3BP,IAAAA,MAAM,CAACI,OAAO,CAAC,cAAc,CAAC,GAAGI,cAAc,CAAC5D,GAAG,EAAE2D,QAAQ,EAAEzD,SAAS,CAAC,CAAA;EAC3E,GAAA;EAEA,EAAA,OAAOkD,MAAM,CAAA;EACf,CAAC,EACD,UAAUS,KAAK,EAAE;EACf,EAAA,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC,CAAA;EAC9B,CAAC,CACF,CAAA;EACDf,OAAO,CAACG,YAAY,CAACe,QAAQ,CAACb,GAAG,CAC/B,UAAUa,QAAQ,EAAE;EAClB,EAAA,IAAAC,qBAAA,GAAkDD,QAAQ,CAACZ,MAAM,CAAzDE,cAAc;EAAdA,IAAAA,cAAc,GAAAW,qBAAA,KAAGzB,KAAAA,CAAAA,GAAAA,oBAAoB,GAAAyB,qBAAA,CAAA;EAC7C,EAAA,IAAM7B,IAAI,GAAG4B,QAAQ,CAAC5B,IAAI,CAAA;EAC1B,EAAA,IAAIT,OAAA,CAAOS,IAAI,CAAA,KAAK,QAAQ,IAAI,MAAM,IAAIA,IAAI,IAAI,KAAK,IAAIA,IAAI,EAAE;EAC/D,IAAA,IAAM8B,IAAI,GAAG9B,IAAI,CAAC8B,IAAI,CAAA;EACtB,IAAA,IAAIA,IAAI,KAAKZ,cAAc,CAACV,UAAU,EAAE;EACtC,MAAA,MAAMR,IAAI,CAAA;EACZ,KAAA;EACF,GAAA;IAEA,IAAI+B,SAAS,GAAG/B,IAAI,CAAA;EACpB,EAAA,IAAIkB,cAAc,CAACT,aAAa,IAAIlB,OAAA,CAAOS,IAAI,CAAA,KAAK,QAAQ,IAAI,MAAM,IAAIA,IAAI,EAAE;MAC9E+B,SAAS,GAAG/B,IAAI,CAACA,IAAI,CAAA;EACvB,GAAA;EACA,EAAA,OAAO+B,SAAS,CAAA;EAClB,CAAC,EACD,UAAUN,KAAK,EAAE;EACf,EAAA,IAAIA,KAAK,YAAYd,KAAK,CAACqB,UAAU,EAAE;EACrC,IAAA,IAAQJ,QAAQ,GAAKH,KAAK,CAAlBG,QAAQ,CAAA;MAChB,IAAI,CAACA,QAAQ,EAAE;EACb,MAAA,OAAOF,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC,CAAA;EAC9B,KAAA;EAEA,IAAA,IAAAQ,sBAAA,GAAkDL,QAAQ,CAACZ,MAAM,CAAzDE,cAAc;EAAdA,MAAAA,cAAc,GAAAe,sBAAA,KAAG7B,KAAAA,CAAAA,GAAAA,oBAAoB,GAAA6B,sBAAA,CAAA;EAC7C,IAAA,IAAMjC,IAAI,GAAG4B,QAAQ,CAAC5B,IAAI,CAAA;EAC1B,IAAA,IAAIT,OAAA,CAAOS,IAAI,CAAA,KAAK,QAAQ,IAAI,MAAM,IAAIA,IAAI,IAAI,KAAK,IAAIA,IAAI,EAAE;EAC/D,MAAA,IAAM8B,IAAI,GAAG9B,IAAI,CAAC8B,IAAI,CAAA;EACtB,MAAA,IAAIA,IAAI,KAAKZ,cAAc,CAACV,UAAU,EAAE;EACtC,QAAA,OAAOkB,OAAO,CAACC,MAAM,CAAC3B,IAAI,CAAC,CAAA;EAC7B,OAAA;EACF,KAAA;MAEA,IAAI+B,SAAS,GAAG/B,IAAI,CAAA;EACpB,IAAA,IAAIkB,cAAc,CAACT,aAAa,IAAIlB,OAAA,CAAOS,IAAI,CAAA,KAAK,QAAQ,IAAI,MAAM,IAAIA,IAAI,EAAE;QAC9E+B,SAAS,GAAG/B,IAAI,CAACA,IAAI,CAAA;EACvB,KAAA;EACA,IAAA,OAAO0B,OAAO,CAACC,MAAM,CAACI,SAAS,CAAC,CAAA;EAClC,GAAA;EACA,EAAA,OAAOL,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC,CAAA;EAC9B,CAAC,CACF,CAAA;EAEM,SAASX,OAAOA,GAA4E;EAAA,EAAA,IAA3EoB,YAAY,GAAA7C,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAxB,SAAA,GAAAwB,SAAA,CAAA,CAAA,CAAA,GAAGO,mBAAmB,CAAA;EAAA,EAAA,IAAEsB,cAAc,GAAA7B,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAxB,SAAA,GAAAwB,SAAA,CAAA,CAAA,CAAA,GAAGe,oBAAoB,CAAA;IAC/F8B,YAAY,GAAGC,MAAM,CAACC,MAAM,CAAC,EAAE,EAAExC,mBAAmB,EAAEsC,YAAY,CAAC,CAAA;IACnEhB,cAAc,GAAGiB,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEhC,oBAAoB,EAAEc,cAAc,CAAC,CAAA;EACxE,EAAA,OAAOR,OAAO,CAAA2B,cAAA,CAAAA,cAAA,KACTH,YAAY,CAAA,EAAA,EAAA,EAAA;EACfhB,IAAAA,cAAc,EAAdA,cAAAA;KACA,CAAA,CAAA,CAAA;EACJ,CAAA;EAEO,SAASoB,GAAGA,GAA4E;EAAA,EAAA,IAA3EJ,YAAY,GAAA7C,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAxB,SAAA,GAAAwB,SAAA,CAAA,CAAA,CAAA,GAAGO,mBAAmB,CAAA;EAAA,EAAA,IAAEsB,cAAc,GAAA7B,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAxB,SAAA,GAAAwB,SAAA,CAAA,CAAA,CAAA,GAAGe,oBAAoB,CAAA;IAC3F8B,YAAY,CAAChC,MAAM,GAAG,KAAK,CAAA;EAC3B,EAAA,OAAOY,OAAO,CAACoB,YAAY,EAAEhB,cAAc,CAAC,CAAA;EAC9C,CAAA;EAEO,SAASqB,IAAIA,GAA4E;EAAA,EAAA,IAA3EL,YAAY,GAAA7C,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAxB,SAAA,GAAAwB,SAAA,CAAA,CAAA,CAAA,GAAGO,mBAAmB,CAAA;EAAA,EAAA,IAAEsB,cAAc,GAAA7B,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAxB,SAAA,GAAAwB,SAAA,CAAA,CAAA,CAAA,GAAGe,oBAAoB,CAAA;IAC5F8B,YAAY,CAAChC,MAAM,GAAG,MAAM,CAAA;EAC5B,EAAA,OAAOY,OAAO,CAACoB,YAAY,EAAEhB,cAAc,CAAC,CAAA;EAC9C;;;;;;;;;ECxGO,SAASsB,WAAWA,CAAC5E,GAAG,EAAE6E,EAAE,EAAEtE,GAAG,EAAEuE,GAAG,EAAE3E,SAAS,EAAE;EACxD,EAAA,IAAM4E,GAAG,GAAG,EAAAC,CAAAA,MAAA,CAAGhF,GAAG,CAAAgF,CAAAA,MAAA,CAAGH,EAAE,CAAAG,CAAAA,MAAA,CAAGzE,GAAG,CAAA,CAAAyE,MAAA,CAAGF,GAAG,CAAA,CAAGG,KAAK,CAAC,EAAE,CAAC,CAACC,IAAI,EAAE,CAACC,IAAI,CAAC,EAAE,CAAC,CAAA;EAC/D,EAAA,OAAOC,QAAQ,CAACC,QAAQ,CAACN,GAAG,EAAE5E,SAAS,CAAC,CAAA;EAC1C,CAAA;EAEO,SAASyD,cAAcA,CAAC5D,GAAG,EAAEsF,IAAI,EAAEC,IAAI,EAAE;IAC9C,IAAMR,GAAG,GAAG,EAAAC,CAAAA,MAAA,CAAGhF,GAAG,EAAA,GAAA,CAAA,CAAAgF,MAAA,CAAIM,IAAI,CAAA,CAAGL,KAAK,CAAC,EAAE,CAAC,CAACC,IAAI,EAAE,CAACC,IAAI,CAAC,EAAE,CAAC,CAAA;EACtD,EAAA,OAAOC,QAAQ,CAACC,QAAQ,CAACN,GAAG,EAAEQ,IAAI,CAAC,CAAA;EACrC,CAAA;EAEA,SAAsBA,IAAIA,GAAA;EAAA,EAAA,OAAAC,KAAA,CAAAC,KAAA,CAAA,IAAA,EAAAhE,SAAA,CAAA,CAAA;EAAA,CAAA;EA2BzB,SAAA+D,KAAA,GAAA;IAAAA,KAAA,GAAAE,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CA3BM,SAAAC,OAAA,GAAA;EAAA,IAAA,IAAAtC,UAAA,EAAAvD,GAAA,EAAAG,SAAA,EAAAI,GAAA,EAAAsE,EAAA,EAAAC,GAAA,EAAAgB,GAAA,EAAAC,GAAA,CAAA;EAAA,IAAA,OAAAJ,mBAAA,EAAA,CAAAK,IAAA,CAAA,SAAAC,SAAAC,QAAA,EAAA;EAAA,MAAA,OAAA,CAAA,EAAA,QAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;EAAA,QAAA,KAAA,CAAA;EACLvE,UAAAA,WAAW,EAAE,CAAA;YAAC0B,UAAA,GACkBjC,SAAS,EAAE,EAAnCtB,GAAG,GAAAuD,UAAA,CAAHvD,GAAG,EAAEG,SAAS,GAAAoD,UAAA,CAATpD,SAAS,EAAEI,GAAG,GAAAgD,UAAA,CAAHhD,GAAG,CAAA;EACrBsE,UAAAA,EAAE,GAAGwB,IAAI,CAACC,GAAG,EAAE,CAAA;YACfxB,GAAG,GAAGyB,OAAI,EAAE,CAAA;EACZT,UAAAA,GAAG,GAAGlB,WAAW,CAAC5E,GAAG,EAAE6E,EAAE,EAAEtE,GAAG,EAAEuE,GAAG,EAAE3E,SAAS,CAAC,CAAA;EAAA+F,UAAAA,QAAA,CAAAE,IAAA,GAAA,CAAA,CAAA;EAAA,UAAA,OACnC1B,GAAG,CACnB;EACEzC,YAAAA,GAAG,EAAE7C,MAAM,CAACC,EAAE,CAACC,aAAa;EAC5B6C,YAAAA,MAAM,EAAE;EACNnC,cAAAA,GAAG,EAAHA,GAAG;EACH6E,cAAAA,EAAE,EAAFA,EAAE;EACFtE,cAAAA,GAAG,EAAHA,GAAG;EACHuF,cAAAA,GAAG,EAAHA,GAAG;EACHU,cAAAA,QAAQ,EAAE1B,GAAAA;EACZ,aAAA;EACF,WAAC,EACD;EACErC,YAAAA,OAAO,EAAE,KAAK;EACdC,YAAAA,aAAa,EAAE,KAAK;EACpBC,YAAAA,aAAa,EAAE,KAAA;EACjB,WAAC,CACF,CAAA;EAAA,QAAA,KAAA,CAAA;YAhBKoD,GAAG,GAAAG,QAAA,CAAAO,IAAA,CAAA;EAiBT,UAAA,IAAIV,GAAG,IAAIA,GAAG,CAAC7B,IAAI,KAAK,CAAC,EAAE;EACzB/C,YAAAA,SAAS,CAAC,WAAW,EAAE4E,GAAG,CAAC3D,IAAI,CAAC,CAAA;EAClC,WAAA;EAAC,UAAA,OAAA8D,QAAA,CAAAQ,MAAA,CAAA,QAAA,EACMX,GAAG,CAAA,CAAA;EAAA,QAAA,KAAA,EAAA,CAAA;EAAA,QAAA,KAAA,KAAA;YAAA,OAAAG,QAAA,CAAAS,IAAA,EAAA,CAAA;EAAA,OAAA;EAAA,KAAA,EAAAd,OAAA,CAAA,CAAA;KACX,CAAA,CAAA,CAAA;EAAA,EAAA,OAAAL,KAAA,CAAAC,KAAA,CAAA,IAAA,EAAAhE,SAAA,CAAA,CAAA;EAAA,CAAA;EAED,SAAsBmF,KAAKA,GAAA;EAAA,EAAA,OAAAC,MAAA,CAAApB,KAAA,CAAA,IAAA,EAAAhE,SAAA,CAAA,CAAA;EAAA,CAAA;EAM1B,SAAAoF,MAAA,GAAA;IAAAA,MAAA,GAAAnB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CANM,SAAAkB,QAAA,GAAA;EAAA,IAAA,OAAAnB,mBAAA,EAAA,CAAAK,IAAA,CAAA,SAAAe,UAAAC,SAAA,EAAA;EAAA,MAAA,OAAA,CAAA,EAAA,QAAAA,SAAA,CAAAb,IAAA,GAAAa,SAAA,CAAAZ,IAAA;EAAA,QAAA,KAAA,CAAA;EACLvE,UAAAA,WAAW,EAAE,CAAA;EAACmF,UAAAA,SAAA,CAAAZ,IAAA,GAAA,CAAA,CAAA;EAAA,UAAA,OACD1B,GAAG,CAAC;EACfzC,YAAAA,GAAG,EAAE7C,MAAM,CAACC,EAAE,CAACE,cAAc;EAC7B4C,YAAAA,MAAM,EAAE,EAAC;EACX,WAAC,CAAC,CAAA;EAAA,QAAA,KAAA,CAAA;EAAA,UAAA,OAAA6E,SAAA,CAAAN,MAAA,CAAAM,QAAAA,EAAAA,SAAA,CAAAP,IAAA,CAAA,CAAA;EAAA,QAAA,KAAA,CAAA,CAAA;EAAA,QAAA,KAAA,KAAA;YAAA,OAAAO,SAAA,CAAAL,IAAA,EAAA,CAAA;EAAA,OAAA;EAAA,KAAA,EAAAG,QAAA,CAAA,CAAA;KACH,CAAA,CAAA,CAAA;EAAA,EAAA,OAAAD,MAAA,CAAApB,KAAA,CAAA,IAAA,EAAAhE,SAAA,CAAA,CAAA;EAAA,CAAA;EAED,SAAsBwF,OAAOA,GAAA;EAAA,EAAA,OAAAC,QAAA,CAAAzB,KAAA,CAAA,IAAA,EAAAhE,SAAA,CAAA,CAAA;EAAA,CAAA;EAM5B,SAAAyF,QAAA,GAAA;IAAAA,QAAA,GAAAxB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CANM,SAAAuB,QAAA,GAAA;EAAA,IAAA,OAAAxB,mBAAA,EAAA,CAAAK,IAAA,CAAA,SAAAoB,UAAAC,SAAA,EAAA;EAAA,MAAA,OAAA,CAAA,EAAA,QAAAA,SAAA,CAAAlB,IAAA,GAAAkB,SAAA,CAAAjB,IAAA;EAAA,QAAA,KAAA,CAAA;EACLvE,UAAAA,WAAW,EAAE,CAAA;EAACwF,UAAAA,SAAA,CAAAjB,IAAA,GAAA,CAAA,CAAA;EAAA,UAAA,OACD1B,GAAG,CAAC;EACfzC,YAAAA,GAAG,EAAE7C,MAAM,CAACC,EAAE,CAACG,gBAAgB;EAC/B2C,YAAAA,MAAM,EAAE,EAAC;EACX,WAAC,CAAC,CAAA;EAAA,QAAA,KAAA,CAAA;EAAA,UAAA,OAAAkF,SAAA,CAAAX,MAAA,CAAAW,QAAAA,EAAAA,SAAA,CAAAZ,IAAA,CAAA,CAAA;EAAA,QAAA,KAAA,CAAA,CAAA;EAAA,QAAA,KAAA,KAAA;YAAA,OAAAY,SAAA,CAAAV,IAAA,EAAA,CAAA;EAAA,OAAA;EAAA,KAAA,EAAAQ,QAAA,CAAA,CAAA;KACH,CAAA,CAAA,CAAA;EAAA,EAAA,OAAAD,QAAA,CAAAzB,KAAA,CAAA,IAAA,EAAAhE,SAAA,CAAA,CAAA;EAAA,CAAA;EAED,SAAsBW,IAAIA,GAAA;EAAA,EAAA,OAAAkF,KAAA,CAAA7B,KAAA,CAAA,IAAA,EAAAhE,SAAA,CAAA,CAAA;EAAA,CAAA;EAMzB,SAAA6F,KAAA,GAAA;IAAAA,KAAA,GAAA5B,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CANM,SAAA2B,QAAA,GAAA;EAAA,IAAA,OAAA5B,mBAAA,EAAA,CAAAK,IAAA,CAAA,SAAAwB,UAAAC,SAAA,EAAA;EAAA,MAAA,OAAA,CAAA,EAAA,QAAAA,SAAA,CAAAtB,IAAA,GAAAsB,SAAA,CAAArB,IAAA;EAAA,QAAA,KAAA,CAAA;EACLvE,UAAAA,WAAW,EAAE,CAAA;EAAC4F,UAAAA,SAAA,CAAArB,IAAA,GAAA,CAAA,CAAA;EAAA,UAAA,OACD1B,GAAG,CAAC;EACfzC,YAAAA,GAAG,EAAE7C,MAAM,CAACC,EAAE,CAACI,aAAa;EAC5B0C,YAAAA,MAAM,EAAE,EAAC;EACX,WAAC,CAAC,CAAA;EAAA,QAAA,KAAA,CAAA;EAAA,UAAA,OAAAsF,SAAA,CAAAf,MAAA,CAAAe,QAAAA,EAAAA,SAAA,CAAAhB,IAAA,CAAA,CAAA;EAAA,QAAA,KAAA,CAAA,CAAA;EAAA,QAAA,KAAA,KAAA;YAAA,OAAAgB,SAAA,CAAAd,IAAA,EAAA,CAAA;EAAA,OAAA;EAAA,KAAA,EAAAY,QAAA,CAAA,CAAA;KACH,CAAA,CAAA,CAAA;EAAA,EAAA,OAAAD,KAAA,CAAA7B,KAAA,CAAA,IAAA,EAAAhE,SAAA,CAAA,CAAA;EAAA;;;;;;;;;;;;EC/DM,SAASiG,KAAKA,CAACC,OAAO,EAAE;EAC7B9F,EAAAA,WAAW,EAAE,CAAA;IACb,IAAA0B,UAAA,GAAgBjC,SAAS,EAAE;MAAnBtB,GAAG,GAAAuD,UAAA,CAAHvD,GAAG,CAAA;EACX,EAAA,OAAO2E,IAAI,CAAC;EACV1C,IAAAA,GAAG,EAAE7C,MAAM,CAACC,EAAE,CAACK,SAAS;EACxB0C,IAAAA,IAAI,EAAAqC,cAAA,CAAA;EACFzE,MAAAA,GAAG,EAAHA,GAAAA;EAAG,KAAA,EACA2H,OAAO,CAAA;EAEd,GAAC,CAAC,CAAA;EACJ,CAAA;EAEO,SAASC,IAAIA,CAACD,OAAO,EAAE;EAC5B9F,EAAAA,WAAW,EAAE,CAAA;IACb,IAAAgG,WAAA,GAAgBvG,SAAS,EAAE;MAAnBtB,GAAG,GAAA6H,WAAA,CAAH7H,GAAG,CAAA;EACX,EAAA,OAAO0E,GAAG,CAAC;EACTzC,IAAAA,GAAG,EAAE7C,MAAM,CAACC,EAAE,CAACM,QAAQ;EACvBwC,IAAAA,MAAM,EAAAsC,cAAA,CAAA;EACJzE,MAAAA,GAAG,EAAHA,GAAAA;EAAG,KAAA,EACA2H,OAAO,CAAA;EAEd,GAAC,CAAC,CAAA;EACJ;;;;;;;;MC1BqBG,YAAY,gBAAA,YAAA;EAAA,EAAA,SAAAA,YAAA,GAAA;EAAAC,IAAAA,eAAA,OAAAD,YAAA,CAAA,CAAA;MAAAE,eAAA,CAAA,IAAA,EAAA,WAAA,EACnB,EAAE,CAAA,CAAA;EAAA,GAAA;EAAAC,EAAAA,YAAA,CAAAH,YAAA,EAAA,CAAA;MAAAvG,GAAA,EAAA,kBAAA;EAAAC,IAAAA,KAAA,EACd,SAAA0G,gBAAAA,CAAiBC,IAAI,EAAEC,QAAQ,EAAE;EAC/B,MAAA,IAAI,CAACC,SAAS,CAACF,IAAI,CAAC,GAAGC,QAAQ,CAAA;EACjC,KAAA;EAAC,GAAA,EAAA;MAAA7G,GAAA,EAAA,qBAAA;EAAAC,IAAAA,KAAA,EACD,SAAA8G,mBAAoBH,CAAAA,IAAI,EAAE;EACxB,MAAA,OAAO,IAAI,CAACE,SAAS,CAACF,IAAI,CAAC,CAAA;EAC7B,KAAA;EAAC,GAAA,EAAA;MAAA5G,GAAA,EAAA,MAAA;EAAAC,IAAAA,KAAA,EACD,SAAA+G,IAAKJ,CAAAA,IAAI,EAAW;QAClB,IAAI,OAAO,IAAI,CAACE,SAAS,CAACF,IAAI,CAAC,KAAK,UAAU,EAAE;EAAA,QAAA,IAAAK,eAAA,CAAA;UAAA,KAAAC,IAAAA,IAAA,GAAAhH,SAAA,CAAAC,MAAA,EADpCgH,IAAI,OAAAC,KAAA,CAAAF,IAAA,GAAAA,CAAAA,GAAAA,IAAA,WAAAG,IAAA,GAAA,CAAA,EAAAA,IAAA,GAAAH,IAAA,EAAAG,IAAA,EAAA,EAAA;EAAJF,UAAAA,IAAI,CAAAE,IAAA,GAAAnH,CAAAA,CAAAA,GAAAA,SAAA,CAAAmH,IAAA,CAAA,CAAA;EAAA,SAAA;EAEd,QAAA,CAAAJ,eAAA,GAAA,IAAI,CAACH,SAAS,EAACF,IAAI,CAAC,CAAA1C,KAAA,CAAA+C,eAAA,EAAIE,IAAI,CAAC,CAAA;EAC/B,OAAA;EACF,KAAA;EAAC,GAAA,CAAA,CAAA,CAAA;EAAA,EAAA,OAAAZ,YAAA,CAAA;EAAA,CAAA,EAAA;;ECLH,IAAMe,WAAW,GAAG;EAClB3I,EAAAA,SAAS,EAAE,mBAAmB;EAC9BF,EAAAA,GAAG,EAAE,aAAa;EAClBG,EAAAA,SAAS,EAAE,mBAAA;EACb,CAAC,CAAA;EAAC,IAEmB2I,GAAG,0BAAAC,IAAA,EAAA;IAAAC,SAAA,CAAAF,GAAA,EAAAC,IAAA,CAAA,CAAA;EAAA,EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,GAAA,CAAA,CAAA;EAItB,EAAA,SAAAA,MAAc;EAAA,IAAA,IAAAK,KAAA,CAAA;EAAApB,IAAAA,eAAA,OAAAe,GAAA,CAAA,CAAA;MACZK,KAAA,GAAAF,MAAA,CAAAG,IAAA,CAAA,IAAA,CAAA,CAAA;EAAQpB,IAAAA,eAAA,CAAAqB,sBAAA,CAAAF,KAAA,CAAA,EAAA,QAAA,EAJD,EAAE,CAAA,CAAA;EAAAnB,IAAAA,eAAA,CAAAqB,sBAAA,CAAAF,KAAA,CAAA,EAAA,MAAA,EACJ,EAAE,CAAA,CAAA;MAIPA,KAAA,CAAKG,UAAU,EAAE,CAAA;MACjBH,KAAA,CAAKI,aAAa,EAAE,CAAA;EAAC,IAAA,OAAAJ,KAAA,CAAA;EACvB,GAAA;EAAClB,EAAAA,YAAA,CAAAa,GAAA,EAAA,CAAA;MAAAvH,GAAA,EAAA,QAAA;EAAAC,IAAAA,KAAA,EAED,SAAA4B,MAAOoG,CAAAA,QAAQ,EAAE;QACfrI,SAAS,CAACqI,QAAQ,CAAC,CAAA;EACnB,MAAA,IAAI,CAACpG,MAAM,GAAGmB,MAAM,CAACC,MAAM,CAAC,IAAI,CAACpB,MAAM,EAAE9B,SAAS,EAAE,CAAC,CAAA;EACvD,KAAA;EAAC,GAAA,EAAA;MAAAC,GAAA,EAAA,OAAA;EAAAC,IAAAA,KAAA,EAED,SAAAiI,KAAMrB,CAAAA,QAAQ,EAAE;EACd,MAAA,IAAI,CAACF,gBAAgB,CAAC,OAAO,EAAEE,QAAQ,CAAC,CAAA;EAC1C,KAAA;EAAC,GAAA,EAAA;MAAA7G,GAAA,EAAA,OAAA;EAAAC,IAAAA,KAAA,EAED,SAAAqC,KAAMuE,CAAAA,QAAQ,EAAE;EACd,MAAA,IAAI,CAACF,gBAAgB,CAAC,OAAO,EAAEE,QAAQ,CAAC,CAAA;EAC1C,KAAA;EAAC,GAAA,EAAA;MAAA7G,GAAA,EAAA,YAAA;MAAAC,KAAA,EAED,SAAA8H,UAAAA,GAAa;EACXjI,MAAAA,UAAU,EAAE,CAAA;QACZ,IAAMqI,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAACf,WAAW,CAAC7I,GAAG,CAAC,CAAA;QACtD,IAAM6J,cAAc,GAAGF,YAAY,CAACC,OAAO,CAACf,WAAW,CAAC1I,SAAS,CAAC,CAAA;EAClE,MAAA,IAAI,CAACiD,MAAM,GAAGmB,MAAM,CAACC,MAAM,CAAC,EAAE,EAAElD,SAAS,EAAE,CAAC,CAAA;EAC5C,MAAA,IAAIoI,QAAQ,EAAE;EACZvI,QAAAA,SAAS,CAAC,KAAK,EAAE,CAACuI,QAAQ,IAAIzJ,SAAS,CAAC,CAAA;UACxC,IAAI,CAACmD,MAAM,CAACpD,GAAG,GAAG,CAAC0J,QAAQ,IAAIzJ,SAAS,CAAA;EAC1C,OAAA;EACA,MAAA,IAAI4J,cAAc,EAAE;EAClB1I,QAAAA,SAAS,CAAC,WAAW,EAAE0I,cAAc,CAAC,CAAA;EACtC,QAAA,IAAI,CAACzG,MAAM,CAACjD,SAAS,GAAG0J,cAAc,CAAA;EACxC,OAAA;EACF,KAAA;EAAC,GAAA,EAAA;MAAAtI,GAAA,EAAA,eAAA;MAAAC,KAAA,EAAA,YAAA;QAAA,IAAAsI,cAAA,GAAApE,iBAAA,eAAAC,mBAAA,EAAAC,CAAAA,IAAA,CAED,SAAAC,OAAA,GAAA;EAAA,QAAA,IAAAkE,MAAA,GAAA,IAAA,CAAA;EAAA,QAAA,IAAAC,cAAA,EAAAC,QAAA,EAAAC,UAAA,CAAA;EAAA,QAAA,OAAAvE,mBAAA,EAAA,CAAAK,IAAA,CAAA,SAAAC,SAAAC,QAAA,EAAA;EAAA,UAAA,OAAA,CAAA,EAAA,QAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;EAAA,YAAA,KAAA,CAAA;gBACQ4D,cAAc,GAAGL,YAAY,CAACC,OAAO,CAACf,WAAW,CAAC3I,SAAS,CAAC,CAAA;EAAA,cAAA,IAAA,CAC9D8J,cAAc,EAAA;EAAA9D,gBAAAA,QAAA,CAAAE,IAAA,GAAA,EAAA,CAAA;EAAA,gBAAA,MAAA;EAAA,eAAA;EAChBjF,cAAAA,SAAS,CAAC,WAAW,EAAE6I,cAAc,CAAC,CAAA;EAAC9D,cAAAA,QAAA,CAAAE,IAAA,GAAA,CAAA,CAAA;EAAA,cAAA,OAChBQ,KAAK,EAAE,CAC3BuD,IAAI,CAAC,YAAM;EACV,gBAAA,OAAO,IAAI,CAAA;EACb,eAAC,CAAC,CAAA,OAAA,CACI,CAAC,UAACC,GAAG,EAAK;EACdjJ,gBAAAA,SAAS,CAAC,WAAW,EAAElB,SAAS,CAAC,CAAA;EACjC0J,gBAAAA,YAAY,CAACU,UAAU,CAACxB,WAAW,CAAC3I,SAAS,CAAC,CAAA;EAC9C6J,gBAAAA,MAAI,CAACxB,IAAI,CAAC,OAAO,EAAE6B,GAAG,CAAC,CAAA;EACvB,gBAAA,OAAO,KAAK,CAAA;EACd,eAAC,CAAC,CAAA;EAAA,YAAA,KAAA,CAAA;gBATEH,QAAQ,GAAA/D,QAAA,CAAAO,IAAA,CAAA;EAAA,cAAA,IAAA,CAWVwD,QAAQ,EAAA;EAAA/D,gBAAAA,QAAA,CAAAE,IAAA,GAAA,EAAA,CAAA;EAAA,gBAAA,MAAA;EAAA,eAAA;EAAAF,cAAAA,QAAA,CAAAE,IAAA,GAAA,CAAA,CAAA;EAAA,cAAA,OACea,OAAO,EAAE,CAC/BkD,IAAI,CAAC,YAAM;EACV,gBAAA,OAAO,IAAI,CAAA;EACb,eAAC,CAAC,CAAA,OAAA,CACI,CAAC,UAACC,GAAG,EAAK;EACdjJ,gBAAAA,SAAS,CAAC,WAAW,EAAElB,SAAS,CAAC,CAAA;EACjC0J,gBAAAA,YAAY,CAACU,UAAU,CAACxB,WAAW,CAAC3I,SAAS,CAAC,CAAA;EAC9C6J,gBAAAA,MAAI,CAACxB,IAAI,CAAC,OAAO,EAAE6B,GAAG,CAAC,CAAA;EACvB,gBAAA,OAAO,KAAK,CAAA;EACd,eAAC,CAAC,CAAA;EAAA,YAAA,KAAA,CAAA;gBATEF,UAAU,GAAAhE,QAAA,CAAAO,IAAA,CAAA;EAAA,cAAA,IAAA,CAUZyD,UAAU,EAAA;EAAAhE,gBAAAA,QAAA,CAAAE,IAAA,GAAA,EAAA,CAAA;EAAA,gBAAA,MAAA;EAAA,eAAA;EACZ,cAAA,IAAI,CAACmC,IAAI,CAAC,OAAO,CAAC,CAAA;gBAAC,OAAArC,QAAA,CAAAQ,MAAA,CAAA,QAAA,CAAA,CAAA;EAAA,YAAA,KAAA,EAAA;EAAAR,cAAAA,QAAA,CAAAE,IAAA,GAAA,EAAA,CAAA;EAAA,cAAA,OAKnBb,IAAI,EAAE,CACT4E,IAAI,CAAC,UAACpE,GAAG,EAAK;kBACb,IAAIA,GAAG,IAAIA,GAAG,CAAC7B,IAAI,IAAI,CAAC,IAAI6B,GAAG,CAAC3D,IAAI,EAAE;oBACpC,OAAO2D,GAAG,CAAC3D,IAAI,CAAA;EACjB,iBAAA;EACA,gBAAA,MAAM2D,GAAG,CAAA;EACX,eAAC,CAAC,CACDoE,IAAI,CAAC,UAACpE,GAAG,EAAK;kBACb4D,YAAY,CAACW,OAAO,CAACzB,WAAW,CAAC3I,SAAS,EAAE6F,GAAG,CAAC,CAAA;EAChDgE,gBAAAA,MAAI,CAACxB,IAAI,CAAC,OAAO,CAAC,CAAA;EACpB,eAAC,CAAC,CAAA,OAAA,CACI,CAAC,UAAC6B,GAAG,EAAK;EACdjJ,gBAAAA,SAAS,CAAC,WAAW,EAAElB,SAAS,CAAC,CAAA;EACjC0J,gBAAAA,YAAY,CAACU,UAAU,CAACxB,WAAW,CAAC3I,SAAS,CAAC,CAAA;EAC9C6J,gBAAAA,MAAI,CAACxB,IAAI,CAAC,OAAO,EAAE6B,GAAG,CAAC,CAAA;EACzB,eAAC,CAAC,CAAA;EAAA,YAAA,KAAA,EAAA,CAAA;EAAA,YAAA,KAAA,KAAA;gBAAA,OAAAlE,QAAA,CAAAS,IAAA,EAAA,CAAA;EAAA,WAAA;EAAA,SAAA,EAAAd,OAAA,EAAA,IAAA,CAAA,CAAA;SACL,CAAA,CAAA,CAAA;EAAA,MAAA,SAAA0D,aAAA,GAAA;EAAA,QAAA,OAAAO,cAAA,CAAArE,KAAA,CAAA,IAAA,EAAAhE,SAAA,CAAA,CAAA;EAAA,OAAA;EAAA,MAAA,OAAA8H,aAAA,CAAA;EAAA,KAAA,EAAA;EAAA,GAAA,EAAA;MAAAhI,GAAA,EAAA,WAAA;EAAAC,IAAAA,KAAA,EAED,SAAA+I,SAAUC,CAAAA,UAAU,EAAE;EACpBA,MAAAA,UAAU,CAACpB,IAAI,CAAC,IAAI,CAAC,CAAA;EACvB,KAAA;EAAC,GAAA,EAAA;MAAA7H,GAAA,EAAA,aAAA;EAAAC,IAAAA,KAAA,EAED,SAAAiJ,WAAAA,CAAYnG,YAAY,EAAEhB,cAAc,EAAE;EACxC,MAAA,OAAOJ,OAAO,CAACoB,YAAY,EAAEhB,cAAc,CAAC,CAAA;EAC9C,KAAA;EAAC,GAAA,EAAA;MAAA/B,GAAA,EAAA,OAAA;EAAAC,IAAAA,KAAA,EAED,SAAAkG,OAAMC,CAAAA,OAAO,EAAE;EAAA,MAAA,IAAA+C,MAAA,GAAA,IAAA,CAAA;QACb,OAAOhD,KAAK,CAACC,OAAO,CAAC,CAACwC,IAAI,CAAC,UAACpE,GAAG,EAAK;EAClC,QAAA,IAAIA,GAAG,IAAIA,GAAG,CAAC7B,IAAI,KAAK,CAAC,EAAE;EACzBwG,UAAAA,MAAI,CAACC,IAAI,GAAG5E,GAAG,CAAC3D,IAAI,CAAA;EACtB,SAAA;EACA,QAAA,OAAO2D,GAAG,CAAA;EACZ,OAAC,CAAC,CAAA;EACJ,KAAA;EAAC,GAAA,EAAA;MAAAxE,GAAA,EAAA,MAAA;EAAAC,IAAAA,KAAA,EAED,SAAAoG,MAAKD,CAAAA,OAAO,EAAE;QACZ,OAAOC,IAAI,CAACD,OAAO,CAAC,CAAA;EACtB,KAAA;EAAC,GAAA,EAAA;MAAApG,GAAA,EAAA,MAAA;MAAAC,KAAA,EAED,SAAAY,MAAAA,GAAO;EACL,MAAA,OAAOA,IAAI,EAAE,CAAA;EACf,KAAA;EAAC,GAAA,CAAA,CAAA,CAAA;EAAA,EAAA,OAAA0G,GAAA,CAAA;EAAA,CA/G+B8B,EAAQ9C,YAAY,EAAA;;ACPtD,cAAe;EACb1E,EAAAA,MAAM,EAANA,MAAM;EACNlD,EAAAA,SAAS,EAATA,SAAS;EACTyK,EAAAA,IAAI,EAAJA,IAAI;EACJzH,EAAAA,OAAO,EAAPA,SAAO;EACP4F,EAAAA,GAAG,EAAHA,GAAAA;EACF,CAAC;;;;;;;;"}