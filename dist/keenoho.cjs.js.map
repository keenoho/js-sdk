{"version":3,"file":"keenoho.cjs.js","sources":["../src/config.js","../src/util.js","../src/request.js","../src/eventEmitter.js","../src/sdk.js","../index.js"],"sourcesContent":["export function loadConfig() {\n  let config = {\n    ENV: 'production',\n    API_HOST: 'http://api.keenoho.space',\n    APP_ID: 2000000000000000,\n  };\n\n  let configTarget = typeof document === 'object' ? window : typeof process === 'object' ? process && process.env || null : null\n\n  if (!configTarget) {\n    return configTarget\n  }\n  if ('ENV' in configTarget) {\n    config.ENV = configTarget.ENV\n  }\n  if ('API_HOST' in configTarget) {\n    config.API_HOST = configTarget.API_HOST\n  }\n  if ('APP_ID' in configTarget) {\n    config.APP_ID = configTarget.APP_ID\n  }\n\n  return config;\n}\n","import { HmacSHA1 } from 'crypto-js';\n\nexport function isBrowser() {\n  return typeof document === 'object';\n}\n\nexport function generateSign(app, ttl, ts, randId) {\n  const str = `${app}${ts}${ttl}${randId}`.split('').sort().join('');\n  return HmacSHA1(str, app.toString()).toString();\n}\n\nexport function generateSignature(url, app, token) {\n  const str = `${app}:${url}`.split('').sort().join('');\n  const res = HmacSHA1(str, token).toString();\n  return res;\n}\n\nexport function makeResponse(data = null, code = 0, msg = 'ok') {\n  return {\n    data,\n    code,\n    msg,\n    time: Date.now(),\n  };\n}\n","import axios from 'axios';\nimport { makeResponse } from './util';\n\nconst defaultAxiosOptions = {\n  url: '',\n  baseURL: '',\n  params: undefined,\n  data: undefined,\n  headers: undefined,\n  method: 'GET',\n};\n\nconst defualtRequestOptions = {\n  checkCode: true,\n  targetCode: 0,\n};\n\nexport function baseRequest(axiosOptions = defaultAxiosOptions, requestOptions = defualtRequestOptions) {\n  let { baseURL, url, params, data, headers, method } = Object.assign({}, defaultAxiosOptions, axiosOptions);\n  let { checkCode, targetCode } = Object.assign({}, defualtRequestOptions, requestOptions);\n\n  return new Promise((resolve, reject) => {\n    axios({\n      baseURL,\n      url,\n      params,\n      data,\n      headers,\n      method,\n    })\n      .then((res) => {\n        if (!res || !('data' in res)) {\n          throw makeResponse(null, -1, 'request error');\n        }\n        const resData = res.data;\n        if (checkCode) {\n          if (!('code' in resData)) {\n            throw makeResponse(null, -1, 'code is not in response');\n          }\n          if (resData.code !== targetCode) {\n            throw resData;\n          }\n        }\n        resolve(resData);\n      })\n      .catch((err) => {\n        let data = null;\n        let code = -1;\n        let msg = 'request error';\n\n        if (err?.response?.data && typeof err?.response?.data === 'object' && 'data' in err?.response?.data) {\n          data = err?.response?.data?.data || data;\n          code = err?.response?.data?.code || code;\n          msg = err?.response?.data?.msg || msg;\n        } else if (err?.data && typeof err?.data === 'object' && 'data' in err?.data) {\n          data = err?.data?.data || data;\n          code = err?.data?.code || code;\n          msg = err?.data?.msg || msg;\n        } else {\n          data = err?.data || data;\n          code = err?.code || code;\n          msg = err?.msg || msg;\n        }\n        let resData = makeResponse(data, code, msg);\n        reject(resData);\n      })\n      .finally(() => {});\n  });\n}\n","export default class EventEmitter {\n  constructor() {\n    this.eventMap = {};\n  }\n\n  on(event, callback) {\n    this.eventMap[event] = callback;\n  }\n\n  off(event, callback) {\n    delete this.eventMap[event];\n  }\n\n  emit(event, ...args) {\n    if (event in this.eventMap && typeof this.eventMap[event] === 'function') {\n      this.eventMap[event](...args);\n    }\n  }\n}\n","import { v4 as UUID } from 'uuid';\nimport { loadConfig } from './config';\nimport { baseRequest } from './request';\nimport { generateSign, generateSignature } from './util';\nimport EventEmitter from './eventEmitter';\n\nexport const sdkDefaultAxiosOptions = {\n  url: '',\n  params: undefined,\n  data: undefined,\n  headers: undefined,\n  method: 'GET',\n};\n\nexport const sdkDefualtRequestOptions = {\n  showLoading: false,\n  handleLoadingFunc: undefined,\n  showError: false,\n  handleErrorFunc: undefined,\n  checkCode: true,\n  targetCode: 0,\n};\n\nexport const sdkDefaultOptions = {\n  autoRenewToken: true,\n  tokenTtl: 7200,\n};\n\nexport class SDK extends EventEmitter {\n  static getSessionHandler() {\n    return localStorage.getItem('keenoho_session');\n  }\n\n  static setSessionHandler(session, expired, user) {\n    localStorage.setItem('keenoho_session', session);\n    localStorage.setItem('keenoho_session_expired', expired);\n    return {\n      session,\n      expired,\n    };\n  }\n\n  constructor(config, sdkOption = sdkDefaultOptions) {\n    super();\n    this.event;\n    this.sdkOption = sdkOption;\n    this.config = config || loadConfig();\n    this.token = undefined;\n    this.tokenExpired = undefined;\n    this.init();\n  }\n\n  async init() {\n    await this.initToken();\n    this.emit('ready', this);\n  }\n\n  async initToken(ttl = this.sdkOption?.tokenTtl) {\n    const baseURL = this.config.API_HOST;\n    const app = this.config.APP_ID;\n    const ts = Date.now();\n    const randId = UUID();\n    const sign = generateSign(app, ttl, ts, randId);\n    const res = await baseRequest({\n      baseURL,\n      url: '/v1/signature/token',\n      method: 'GET',\n      params: {\n        app,\n        ttl,\n        ts,\n        randId,\n        sign,\n      },\n    });\n    const { token, expired } = res?.data || {};\n    this.token = token;\n    this.tokenExpired = expired;\n  }\n\n  async checkTokenExpired(\n    autoRenew = this.sdkOption?.autoRenew,\n    tokenTtl = this.sdkOption?.tokenTtl,\n    early = 10 * 60 * 1000\n  ) {\n    if (!this.token || !this.tokenExpired) {\n      return;\n    }\n    let isExpired = Date.now >= this.tokenExpired - early;\n    if (isExpired && autoRenew) {\n      await this.initToken(tokenTtl).then(() => {\n        isExpired = false;\n      });\n    }\n    return isExpired;\n  }\n\n  async request(axiosOptions = sdkDefaultAxiosOptions, requestOptions = sdkDefualtRequestOptions) {\n    await this.checkTokenExpired();\n    const aopt = Object.assign({}, sdkDefaultAxiosOptions, axiosOptions);\n    const ropt = Object.assign({}, sdkDefualtRequestOptions, requestOptions);\n\n    const token = this.token;\n    const baseURL = this.config.API_HOST;\n    const app = this.config.APP_ID;\n    const sid = SDK.getSessionHandler();\n    const headers = {\n      'x-app': app,\n      'x-tk': token,\n      'x-sig': generateSignature(axiosOptions.url, app, token),\n      'x-sid': sid,\n    };\n\n    aopt.baseURL = baseURL;\n    aopt.headers = Object.assign(headers, aopt.headers);\n\n    return baseRequest(aopt, ropt);\n  }\n\n  // signature\n  signatureTest() {\n    return this.request({\n      url: '/v1/signature/test',\n    });\n  }\n\n  sessionCheck() {\n    return this.request({\n      url: '/v1/signature/session/check',\n    });\n  }\n\n  sessionRefresh() {\n    return this.request({\n      url: '/v1/signature/session/refresh',\n    });\n  }\n\n  // user\n  userSignin(data) {\n    return this.request({\n      url: '/v1/user/signin',\n      method: 'POST',\n      data,\n    });\n  }\n\n  userLogin(data) {\n    return this.request({\n      url: '/v1/user/login',\n      method: 'POST',\n      data,\n    }).then((res) => {\n      const { session, expired, user } = res?.data || {};\n      SDK.setSessionHandler(session, expired, user);\n      return res;\n    });\n  }\n\n  userInfo(params) {\n    return this.request({\n      url: '/v1/user/info',\n      params,\n    });\n  }\n\n  userUpdate(data) {\n    return this.request({\n      url: '/v1/user/update',\n      method: 'POST',\n      data,\n    });\n  }\n}\n","// import { isBrowser } from './src/util';\nimport * as config from './src/config';\nimport * as request from './src/request';\nimport { SDK } from './src/sdk';\n\n// browser auto load\n// function browserAutoLoad() {\n//   document.addEventListener('DOMContentLoaded', () => {\n//     const scriptEle = document.querySelector('script#keenoho');\n//     if (!scriptEle) {\n//       return;\n//     }\n//     const src = scriptEle.getAttribute('src');\n//     if (!src) {\n//       return;\n//     }\n//     const searchParams = new URLSearchParams(src.split('?')[1] || '');\n//     const search = {};\n//     for (let k of searchParams.keys()) {\n//       search[k] = searchParams.get(k);\n//     }\n//     if (search.autoLoad) {\n//       window.KEENOHO = new SDK(search);\n//     }\n//   });\n// }\n// if (isBrowser()) {\n//   browserAutoLoad();\n// }\n\nexport default {\n  config,\n  request,\n  SDK,\n};\n"],"names":["HmacSHA1","UUID"],"mappings":"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"}